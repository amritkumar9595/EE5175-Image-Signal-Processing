clc;
clear;
g=[ 255 255 255 255 255 255 255 255;
    255 255 255 100 100 100 255 255;
    255 255 100 150 150 150 100 255;
    255 255 100 150 200 150 100 255;
    255 255 100 150 150 150 100 255;
    255 255 255 100 100 100 255 255;
    255 255 255 255 50 255 255 255;
    50 50 50 50 255 255 255 255];


[E1,V1]=eig(g*(g'));
[E2,V2]=eig((g')*g);

sigma=(E1')*g*(E2);

I1=(E1)*sigma*(E2');

e=zeros(8,1);
for a=1:8
    I2=(E1(1:8,a:8))*sigma(a:8,a:8)*(E2(1:8,a:8)');
    error=0;
    error=(I2-I1).^2;
    e(a)=sum(sum(error));
end

e1=zeros(8,1);
for b=1:8
    for c=1:b
        err=0;
        e1(b)=e1(b)+ (sigma(c,c))^2;
    end
end


